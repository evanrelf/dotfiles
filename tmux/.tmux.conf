# SETTINGS {{{1
set -g mouse on
set -g base-index 1
setw -g pane-base-index 1
set-option -g renumber-windows on
set-option -g allow-rename off
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",*col*:Tc"
bind c new-window -c "#{pane_current_path}"


# APPERANCE {{{1
set-option -g status-position bottom
set-option -g status-style bg=black
set -g pane-active-border-style fg=blue

set -g status-style fg=default,bg=black
set -g status-left-length 40
set -g status-left ""
set -g status-right-length 40
set -g status-right "#{prefix_highlight} S#S W#I P#P | %Y-%m-%d %I:%M %p "

# set -g window-status-format " #I:#W#F "
# set -g window-status-current-format " #I:#W#F "
set -g window-status-format " #W "
set -g window-status-current-format " #W "
set -g window-status-current-style bg="#abb2bf",fg=black
set -g window-status-activity-style fg=black,bg=blue # fg and bg are flipped here due to a bug in tmux

# Message
set -g message-style fg=blue

# Mode
set -g mode-style fg=black,bg=blue


# BINDINGS {{{1
unbind C-b
bind-key C-s send-prefix
set-option -g prefix C-s

bind-key -n C-S-k send-keys C-l \; send-keys -R \; clear-history
bind-key = select-layout even-vertical \; select-layout even-horizontal


# HOOKS {{{1

# Disable pane-border-status line when only one pane is displayed
# set-hook -g "after-new-window"   "run-shell -b "if [ \#{window_panes} -eq 1 ]; then tmux set pane-border-status off; fi""
# set-hook -g "after-kill-pane"    "run-shell -b "if [ \#{window_panes} -eq 1 ]; then tmux set pane-border-status off; fi""
# set-hook -g "pane-exited"        "run-shell -b "if [ \#{window_panes} -eq 1 ]; then tmux set pane-border-status off; fi""
# set-hook -g "after-split-window" "run-shell -b "if [ \#{window_panes} -gt 1 ]; then tmux set pane-border-status bottom; fi""


# PLUGINS {{{1
set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"
set -g @plugin "tmux-plugins/tmux-pain-control"
set -g @plugin "nhdaly/tmux-better-mouse-mode"
set -g @plugin "tmux-plugins/tmux-yank"
set -g @plugin "tmux-plugins/tmux-prefix-highlight"
run -b "~/.tmux/plugins/tpm/tpm"


# PLUGIN SETTINGS {{{1
set -g @scroll-without-changing-pane "on"
set -g @emulate-scroll-for-no-mouse-alternate-buffer "on"
set -g @prefix_highlight_show_copy_mode "on"
set -g @prefix_highlight_copy_mode_attr "fg=black,bg=yellow"


# vim: foldenable foldmethod=marker
