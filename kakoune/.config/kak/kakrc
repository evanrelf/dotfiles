# source ~/.config/kak/plugins/auto-pairs.kak
# hook global WinCreate .* %{ auto-pairs-enable }

# PLUGINS
source ~/.config/kak/plugins/plug.kak/rc/plug.kak
plug 'andreyorst/plug.kak' 'noload'
# plug 'alexherbo2/auto-pairs.kak' %{
#   hook global WinCreate .* %{ auto-pairs-enable }
# }

# OPTIONS
colorscheme gruvbox
set-option global indentwidth 2
set-option global ui_options \
  ncurses_assistant=none \
  ncurses_enable_mouse=true \
  ncurses_wheel_up_button=4 \
  ncurses_wheel_down_button=2
set-option global grepcmd 'rg --column --smart-case'
set-option global startup_info_version 20180904


# COMMANDS
alias global x write-quit

define-command config -docstring 'Edit Kakoune config' %{
  edit ~/.config/kak/kakrc
}


# MAPPINGS
unmap global goto g
map global normal \; :
map global normal : \;
map global user / ': comment-line<ret>'


# HOOKS
hook global WinCreate .* %{
  add-highlighter window/number number-lines -hlcursor -relative
}

hook global ModeChange normal:insert %{
  remove-highlighter window/number
  add-highlighter window/number number-lines -hlcursor
}

hook global ModeChange insert:normal %{
  remove-highlighter window/number
  add-highlighter window/number number-lines -hlcursor -relative
}

hook global InsertCompletionShow .* %{
  map window insert <tab> <c-n>
  map window insert <s-tab> <c-p>
}

hook global InsertCompletionHide .* %{
  unmap window insert <tab> <c-n>
  unmap window insert <s-tab> <c-p>
}

hook global WinSetOption filetype=cpp %{
  clang-enable-autocomplete
  clang-enable-diagnostics
}
